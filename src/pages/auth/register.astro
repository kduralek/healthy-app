---
import AuthLayout from '@/layouts/AuthLayout.astro';
import { RegisterForm } from '@/components/auth/RegisterForm';

export const prerender = false;

if (Astro.locals.user) {
  const returnUrl = Astro.url.searchParams.get('returnUrl') || '/app/recipes/generate';

  return Astro.redirect(returnUrl);
}
---

<AuthLayout title="UtwÃ³rz konto - Healthy App">
  <RegisterForm client:load />
</AuthLayout>
